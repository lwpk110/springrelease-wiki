<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Unresolved directive in v2.5.adoc - include::authors.adoc[]">
<title>Spring Boot 2.5 Release Notes</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body id="v2.5" class="article toc2 toc-left">
<div id="header">
<h1>Spring Boot 2.5 Release Notes</h1>
<div class="details">
<span id="author" class="author">Unresolved directive in v2.5.adoc - include::authors.adoc[]</span><br>
<span id="revnumber">version 1.0-SNAPSHOT,</span>
<span id="revdate">Unresolved directive in v2.5.adoc - include</span>
<br><span id="revremark">:attributes.adoc[]</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#环境">环境</a>
<ul class="sectlevel2">
<li><a href="#servlet-containers">Servlet Containers</a></li>
</ul>
</li>
<li><a href="#重大更新">重大更新</a>
<ul class="sectlevel2">
<li><a href="#sql脚本数据源初始化">SQL脚本数据源初始化</a></li>
<li><a href="#flyway-and-liquibase-jdbc-urls">Flyway and Liquibase JDBC URLs</a></li>
<li><a href="#spring-data-solr">Spring Data Solr</a></li>
<li><a href="#secure-info-endpoint">Secure Info Endpoint</a></li>
<li><a href="#默认表达式语言-el-实现">默认表达式语言 (EL) 实现</a></li>
<li><a href="#默认错误视图中的消息">默认错误视图中的消息</a></li>
<li><a href="#日志关闭钩子">日志关闭钩子</a></li>
<li><a href="#gradle-default-jar-and-war-tasks">Gradle Default jar and war Tasks</a></li>
<li><a href="#cassandra-throttling-属性">Cassandra Throttling 属性</a></li>
<li><a href="#jooqs-defaultconfiguration-自定义">jOOQ&#8217;s <code>DefaultConfiguration</code> 自定义</a></li>
<li><a href="#groovy-3">Groovy 3</a></li>
<li><a href="#gradle-版本最低要求变更">gradle 版本最低要求变更</a></li>
<li><a href="#hibernate-validator-6-2">Hibernate Validator 6.2</a></li>
<li><a href="#spring-boot-2-3-和-2-4-的弃用">Spring Boot 2.3 和 2.4 的弃用</a></li>
<li><a href="#环境变量前缀">环境变量前缀</a></li>
<li><a href="#基于-tcp-的-http2-h2c">基于 TCP 的 HTTP2 (h2c)</a></li>
<li><a href="#generic-datasource-初始化">Generic DataSource 初始化</a></li>
<li><a href="#r2dbc-database-初始化">R2DBC Database 初始化</a></li>
<li><a href="#liquibase-datasource">Liquibase DataSource</a></li>
<li><a href="#layered-wars">Layered WARs</a></li>
<li><a href="#docker-镜像构建支持">Docker 镜像构建支持</a></li>
<li><a href="#prometheus-openmetrics">Prometheus OpenMetrics</a></li>
<li><a href="#spring-data-repositories-指标">Spring Data Repositories 指标</a></li>
<li><a href="#webflux-timed-指标">WebFlux  @Timed 指标</a></li>
<li><a href="#mongodb-指标">MongoDB 指标</a></li>
<li><a href="#quartz-actuator-endpoint">Quartz Actuator Endpoint</a></li>
<li><a href="#get-对-actuatorstartup-的请求"><code>GET</code> 对 <code>actuator/startup</code> 的请求</a></li>
<li><a href="#datasource健康抽象路由">DataSource健康抽象路由</a></li>
<li><a href="#java-16-支持">Java 16 支持</a></li>
<li><a href="#gradle-7-支持">Gradle 7 支持</a></li>
<li><a href="#jetty-10-support">Jetty 10 Support</a></li>
<li><a href="#documentation-updates">Documentation Updates</a></li>
<li><a href="#其它">其它</a></li>
<li><a href="#依赖更新">依赖更新</a></li>
</ul>
</li>
<li><a href="#springboot2-5中值得注意的不推荐使用deprecations">SpringBoot2.5中值得注意的不推荐使用（deprecations）</a></li>
<li><a href="#new-and-noteworthy">New and Noteworthy</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="环境">环境</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><span class="icon"><i class="fa fa-tags"></i></span> 6.8.x, 6.9.x, and 7.x</p>
</li>
<li>
<p><span class="icon"><i class="fa fa-tags"></i></span> Spring Framework 5.3.8 or above is also required</p>
</li>
<li>
<p><span class="icon"><i class="fa fa-tags"></i></span> jdk8&#8230;&#8203;16</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="servlet-containers">Servlet Containers</h3>
<div class="paragraph">
<p>Spring Boot支持以下嵌入式servlet容器：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Servlet Version</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tomcat 9.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tomcat 9.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jetty 9.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jetty 10.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Undertow 2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.0</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
您还可以将Spring BOOT 应用程序部署到任何与Servlet 3.1+兼容的容器中。
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="重大更新">重大更新</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="sql脚本数据源初始化">SQL脚本数据源初始化</h3>
<div class="paragraph">
<p>Spring Boot 2.5 中重新设计了用于支持 <code>schema.sql</code> 和 <code>data.sql</code> 脚本的底层方法。
与 <code>DataSource</code> 初始化相关的 <code>spring.datasource.*</code> 属性已被弃用，取而代之的是新的 <code>spring.sql.init.*</code> 属性。
这些属性还可用于初始化通过 R2DBC 访问的 SQL 数据库。</p>
</div>
<div class="sect3">
<h4 id="schema-sql-and-data-sql"><code>schema.sql</code> and <code>data.sql</code></h4>
<div class="paragraph">
<p>对于 Spring Boot 2.5.1 及更高版本，新的 SQL 初始化属性支持检测 JDBC 和 R2DBC 的嵌入式数据源。
默认情况下，SQL 数据库初始化仅在使用嵌入式内存数据库时执行。
要始终初始化 SQL 数据库，无论其类型如何，请将 <code>spring.sql.init.mode</code> 设置为 <code>always</code>。
同样，要禁用初始化，请将 <code>spring.sql.init.mode</code> 设置为 <code>never</code>。</p>
</div>
</div>
<div class="sect3">
<h4 id="互相隔离的credentials">互相隔离的Credentials</h4>
<div class="paragraph">
<p>新的基于脚本的 SQL 数据库初始化不支持对架构 (DDL) 和数据 (DML) 更改使用单独的凭据。
这降低了复杂性并使其功能与 Flyway 和 Liquibase 保持一致。
如果您需要单独的架构和数据初始化凭据，请定义您自己的 <code>org.springframework.jdbc.datasource.init.DataSourceInitializer</code> bean。</p>
</div>
</div>
<div class="sect3">
<h4 id="hibernate-and-data-sql">Hibernate and data.sql</h4>
<div class="paragraph">
<p>默认情况下，<code>data.sql</code> 脚本现在在 Hibernate 初始化之前运行。
这使基于脚本的基本初始化行为与 Flyway 和 Liquibase 的行为保持一致。
如果你想使用 <code>data.sql</code> 来填充 Hibernate 创建的模式，请将 <code>spring.jpa.defer-datasource-initialization</code> 设置为 <code>true</code>。
虽然不推荐混合数据库初始化技术，但这也将允许您使用 <code>schema.sql</code> 脚本在通过 <code>data.sql</code> 填充之前构建在 Hibernate 创建的模式上。</p>
</div>
</div>
<div class="sect3">
<h4 id="initialization-ordering">Initialization ordering</h4>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/docs/2.5.0/reference/html//howto.html#howto.data-initialization.dependencies.depends-on-initialization-detection">certain well-known types</a> bean, 例如 <code>JdbcTemplate</code>, 将被排序，以便在数据库初始化后初始化它们。
如果你有一个直接使用 <code>DataSource</code> 的 bean，用 <code>@DependsOnDatabaseInitialization</code> 注释它的类或 <code>@Bean</code> 方法，以确保它在数据库初始化后也被初始化。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="flyway-and-liquibase-jdbc-urls">Flyway and Liquibase JDBC URLs</h3>
<div class="paragraph">
<p>如果你当前定义了一个 <code>spring.flyway.url</code> 或 <code>spring.liquibase.url</code>，你可能需要提供额外的 <code>username</code> 和 <code>password</code> 属性。
在 Spring Boot 的早期版本中，这些设置是从 <code>spring.datasource</code> 属性派生的，但这对于提供自己的 DataSource bean 的人来说是有问题的。</p>
</div>
</div>
<div class="sect2">
<h3 id="spring-data-solr">Spring Data Solr</h3>
<div class="paragraph">
<p>在 2021.0.0 从 Spring Data 中删除之后，此版本中删除了 Spring Data Solr 的自动配置。</p>
</div>
</div>
<div class="sect2">
<h3 id="secure-info-endpoint">Secure Info Endpoint</h3>
<div class="paragraph">
<p><code>/info</code> actuator endpoint默认情况下不再通过网络公开。
此外，如果 Spring Security 在类路径上并且您的应用程序没有自定义安全配置，则端点默认需要经过身份验证的访问。</p>
</div>
<div class="paragraph">
<p>请参阅有关文档 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/reference/htmlsingle/#actuator.endpoints.exposing">exposing</a> ， <a href="https://docs.spring.io/spring-boot/docs/2.5.0/reference/htmlsingle/#actuator.endpoints.security">securing</a> actuator endpoints 来更改这些新的默认值.</p>
</div>
</div>
<div class="sect2">
<h3 id="默认表达式语言-el-实现">默认表达式语言 (EL) 实现</h3>
<div class="paragraph">
<p>Spring Boot 的 web 和验证启动器中包含的 EL 实现已更改. Tomcat 的实现（<code>org.apache.tomcat.embed.tomcat-embed-el</code>）现在用于代替 Glassfish 的参考实现（<code>org.glassfish:jakrta.el</code>）.</p>
</div>
</div>
<div class="sect2">
<h3 id="默认错误视图中的消息">默认错误视图中的消息</h3>
<div class="paragraph">
<p>默认错误视图中的 <code>message</code> 属性现在被删除，而不是在未显示时为空白。
如果您解析错误响应 JSON，您可能需要处理丢失的项。</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
如果您希望包含消息，您仍然可以使用 <code>server.error.include-message</code> 属性。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="日志关闭钩子">日志关闭钩子</h3>
<div class="paragraph">
<p>我们现在默认为基于 jar 的应用程序注册一个日志关闭挂钩，以确保在 JVM 退出时释放日志资源。
如果您的应用程序部署为 war，则不会注册关闭挂钩，因为 servlet 容器通常处理日志记录问题。</p>
</div>
<div class="paragraph">
<p>大多数应用程序都需要关闭挂钩。但是，如果您的应用程序具有复杂的上下文层次结构，那么您可能需要禁用它。
你可以使用 <code>logging.register-shutdown-hook</code> 属性来做到这一点。</p>
</div>
</div>
<div class="sect2">
<h3 id="gradle-default-jar-and-war-tasks">Gradle Default jar and war Tasks</h3>
<div class="paragraph">
<p>Spring Boot Gradle Plugin 不再自动禁用标准 Gradle <code>jar</code> 和 <code>war</code> 任务。
取而代之的，使用 <code>classifier</code> 来替代这些任务.</p>
</div>
<div class="paragraph">
<p>如果您希望禁用这些任务，请参阅参考文档 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/gradle-plugin/reference/htmlsingle/#packaging-executable-and-plain">includes updated examples</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="cassandra-throttling-属性">Cassandra Throttling 属性</h3>
<div class="paragraph">
<p>Spring Boot 不再为 spring.data.cassandra.request.throttler 属性提供默认值。
如果你依赖 <code>max-queue-size</code>、<code>max-concurrent-requests</code>、<code>max-requests-per-second</code> 或 <code>drain-interval</code>，你应该设置对你的应用程序有意义的值。</p>
</div>
</div>
<div class="sect2">
<h3 id="jooqs-defaultconfiguration-自定义">jOOQ&#8217;s <code>DefaultConfiguration</code> 自定义</h3>
<div class="paragraph">
<p>为了简化 jOOQ 的 <code>DefaultConfiguration</code> 的自定义，现在可以定义一个实现 <code>DefaultConfigurationCustomizer</code> 的 bean。这个定制器回调应该用于定义一个或多个 <code>Provider</code> bean，现在已经弃用了对它的支持。</p>
</div>
</div>
<div class="sect2">
<h3 id="groovy-3">Groovy 3</h3>
<div class="paragraph">
<p>Groovy 的默认版本已升级到 3.x。如果您在使用 Groovy 和 Spock，您还应该升级到最新的 Groovy 3.0 兼容版本的 Spock 2.0。或者，使用 <code>groovy.version</code> 降级回 Groovy 2.5。</p>
</div>
</div>
<div class="sect2">
<h3 id="gradle-版本最低要求变更">gradle 版本最低要求变更</h3>
<div class="paragraph">
<p>使用 Gradle 构建的项目现在需要 Gradle 6.8 或更高版本。</p>
</div>
</div>
<div class="sect2">
<h3 id="hibernate-validator-6-2">Hibernate Validator 6.2</h3>
<div class="paragraph">
<p>Hibernate Validate 的默认版本已升级到 6.2.x。 Hibernate Validator 6.2 更改了表达式语言用于插入约束消息的方式. 参阅 <a href="https://in.relation.to/2021/01/06/hibernate-validator-700-62-final-released/">this blog post from the Hibernate Validator team</a> 获取详情.</p>
</div>
</div>
<div class="sect2">
<h3 id="spring-boot-2-3-和-2-4-的弃用">Spring Boot 2.3 和 2.4 的弃用</h3>
<div class="paragraph">
<p>参阅 <a href="https://github.com/spring-projects/spring-boot/wiki/Supported-Versions#release-compatibility">release compatibility policy</a>, Spring Boot 2.3 中弃用的代码已在 Spring Boot 2.5 中删除。
Spring Boot 2.4 中弃用的代码仍然存在，并计划在 Spring Boot 2.6 中删除。</p>
</div>
</div>
<div class="sect2">
<h3 id="环境变量前缀">环境变量前缀</h3>
<div class="paragraph">
<p>现在可以为系统环境变量指定前缀，以便您可以在同一环境中运行多个不同的 Spring Boot 应用程序。
使用 <code>SpringApplication.setEnvironmentPrefix(&#8230;&#8203;)</code> 设置绑定属性时要使用的前缀。</p>
</div>
<div class="paragraph">
<p>例如，以下将添加一个 <code>myapp</code> 前缀：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">SpringApplication application = new SpringApplication(MyApp.class);
application.setEnvironmentPrefix("myapp");
application.run(args);</code></pre>
</div>
</div>
<div class="paragraph">
<p>All properties will now expect a prefixed version.
For example, to change the server port you can set <code>MYAPP_SERVER_PORT</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="基于-tcp-的-http2-h2c">基于 TCP 的 HTTP2 (h2c)</h3>
<div class="paragraph">
<p>所有四个嵌入式 Web 容器现在都支持 HTTP2 over TCP (h2c)，无需任何手动定制。要启用 h2c，请将 <code>server.http2.enabled</code> 设置为 <code>true</code>，并将 <code>server.ssl.enabled</code> 设置为 <code>false</code>（其默认值）。</p>
</div>
<div class="paragraph">
<p>与现有的 h2 支持一样，根据所使用的嵌入式 Web 服务器，h2c 的使用可能需要额外的依赖项。有关详细信息，请参阅 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/reference/html/howto.htmlhowto.webserver.configure-http2">参考文档</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="generic-datasource-初始化">Generic DataSource 初始化</h3>
<div class="paragraph">
<p>如果您编写初始化数据源的代码，现在可以使用新的通用机制。
这种机制现在也在内部用于为 Flyway、Liquibase 和基于脚本的初始化设置正确的 bean 依赖项。</p>
</div>
<div class="paragraph">
<p>大多数开发人员不需要直接使用新机制。
但是，如果您正在为数据访问库开发第三方启动器，您可能需要提供一个 <code>DependsOnDataSourceInitializationDetector</code>。
有关详细信息，请参阅 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/reference/html/howto.htmlhowto-initialize-a-database-configuring-dependencies-initializer-detection">更新的参考文档</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="r2dbc-database-初始化">R2DBC Database 初始化</h3>
<div class="paragraph">
<p>添加了对通过 R2DBC 访问的 SQL 数据库的基于脚本的初始化的支持。
默认情况下，名为`schema.sql` 和`data.sql` 的类路径上的脚本将自动应用于数据库。
可以使用 <code>spring.sql.init.</code> 配置属性自定义初始化。
有关更多详细信息，请参阅 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/reference/html/howto.htmlhowto-initialize-a-database-using-basic-scripts">参考文档</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="liquibase-datasource">Liquibase DataSource</h3>
<div class="paragraph">
<p>如果你定义了一个自定义的 DataSource 用于 Liquibase，我们现在使用 <code>SimpleDriverDataSource</code>.
我们之前使用了一个池化数据源，这对于数据库初始化来说是不必要且效率低下的。</p>
</div>
</div>
<div class="sect2">
<h3 id="layered-wars">Layered WARs</h3>
<div class="paragraph">
<p>Spring Boot Maven 和 Gradle 插件现在允许您创建分层 WAR 以与 Docker 镜像一起使用。
分层 WAR 的工作方式与早期版本的 Spring Boot 中提供的分层 JAR 支持类似。
查看 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/gradle-plugin/reference/htmlsingle#packaging-layered-archives">Gradle</a> 和 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/maven-plugin/reference/htmlsingle#repackage-layers">Maven</a> 参考文档了解更多详情。</p>
</div>
</div>
<div class="sect2">
<h3 id="docker-镜像构建支持">Docker 镜像构建支持</h3>
<div class="sect3">
<h4 id="自定义-buildpacks">自定义 Buildpacks</h4>
<div class="paragraph">
<p>您可以将 <code>buildpacks</code> 属性设置目录、tar.gz 文件、特定构建器引用或 Docker 映像。</p>
</div>
<div class="paragraph">
<p>有关更多详细信息，请参阅更新的 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/gradle-plugin/reference/htmlsingle#packaging-oci-images">Gradle</a> 和 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/maven-plugin/reference/htmlsingle#packaging-oci-images">Maven</a> 参考文档。</p>
</div>
</div>
<div class="sect3">
<h4 id="bindings">Bindings</h4>
<div class="paragraph">
<p>Maven 和 Gradle 插件现在都支持可以传递给 buildpack 构建器的 volume bindings 。</p>
</div>
<div class="paragraph">
<p>这些允许您绑定本地路径或卷以供buildpack使用。</p>
</div>
<div class="paragraph">
<p>有关更多详细信息，请参阅更新的  <a href="https://docs.spring.io/spring-boot/docs/2.5.0/gradle-plugin/reference/htmlsingle#packaging-oci-images">Gradle</a> 和 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/maven-plugin/reference/htmlsingle#packaging-oci-images">Maven</a>
See the updated  reference documentation for more details.</p>
</div>
</div>
<div class="sect3">
<h4 id="war-支持">War 支持</h4>
<div class="paragraph">
<p>Maven和Gradle插件现在都可以将可执行的war文件打包成Docker镜像。
如果你想为你的war创建一个 Docker 镜像，应该使用现有的 <code>mvn spring-boot:image</code> 或 <code>./gradlew bootBuildImage</code> 命令。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="prometheus-openmetrics">Prometheus OpenMetrics</h3>
<div class="paragraph">
<p><code>/actuator/prometheus</code> 执行器端点现在可以提供 “标准Prometheus” 和 “”OpenMetrics响应”。
返回的响应将取决于随 HTTP 请求提供的接受标头。</p>
</div>
<div class="paragraph">
<p>返回的响应将取决于HTTP请求提供的accept头。</p>
</div>
</div>
<div class="sect2">
<h3 id="spring-data-repositories-指标">Spring Data Repositories 指标</h3>
<div class="paragraph">
<p>Actuator 可以为 Spring Data repositories 生成 Micrometer metrics .</p>
</div>
<div class="paragraph">
<p>默认情况下，metrics被命名为 <code>spring.data.repository.invocations</code>。
要了解更多信息，请参阅 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/reference/html/actuator.html#actuator.metrics.supported.spring-data-repository">参考文档的相关部分</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="webflux-timed-指标">WebFlux  @Timed 指标</h3>
<div class="paragraph">
<p>将其功能与 Spring MVC 的功能保持一致，<code>@Timed</code> 现在可用于手动启用由 WebFlux 控制器和功能处理程序处理的请求的计时。
要使用手动计时，请将 <code>management.metrics.web.server.request.autotime.enabled</code> 设置为 <code>false</code>。</p>
</div>
</div>
<div class="sect2">
<h3 id="mongodb-指标">MongoDB 指标</h3>
<div class="paragraph">
<p>使用 Actuator 时，Mongo 连接池的指标和客户端发送的命令现在会自动生成。
要了解有关 MongoDB 指标的更多信息，请参阅 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/reference/html/actuator.html#actuator.metrics.supported.mongodb">参考文档的相关部分</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="quartz-actuator-endpoint">Quartz Actuator Endpoint</h3>
<div class="paragraph">
<p>一个 <code>/quartz</code> 端点已添加到 Actuator。
它提供了有关 Quartz 作业和触发器的详细信息。
有关更多详细信息，请参阅 <a href="https://docs.spring.io/spring-boot/docs/2.5.0/actuator-api/htmlsingle#quartz">Actuator API 文档的相关部分</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="get-对-actuatorstartup-的请求"><code>GET</code> 对 <code>actuator/startup</code> 的请求</h3>
<div class="paragraph">
<p>执行器的 <code>startup</code> 端点现在支持 <code>GET</code> 请求。
与 <code>POST</code> 请求不同，对端点的 <code>GET</code> 请求不会耗尽事件缓冲区，事件将继续保存在内存中。</p>
</div>
</div>
<div class="sect2">
<h3 id="datasource健康抽象路由">DataSource健康抽象路由</h3>
<div class="paragraph">
<p>Actuator 的运行状况端点现在显示“AbstractRoutingDataSource”的目标的运行状况。
每个目标`DataSource` 都使用其路由键命名。
和以前一样，要忽略健康端点中的路由数据源，请将“management.health.db.ignore-routing-data-sources”设置为“true”。</p>
</div>
</div>
<div class="sect2">
<h3 id="java-16-支持">Java 16 支持</h3>
<div class="paragraph">
<p>此版本提供支持并针对 Java 16 进行了测试。ava 16.
Spring Boot 2.5 仍然与 Java 8 兼容。</p>
</div>
</div>
<div class="sect2">
<h3 id="gradle-7-支持">Gradle 7 支持</h3>
<div class="paragraph">
<p>Spring Boot Gradle 插件支持 Gradle 7.0.x 并对其进行了测试。</p>
</div>
</div>
<div class="sect2">
<h3 id="jetty-10-support">Jetty 10 Support</h3>
<div class="paragraph">
<p>Spring Boot 2.5 现在可以使用 Jetty 10 作为嵌入式 Web 服务器。
Jetty 10 尚不支持 WebSocket。
由于 Jetty 10 需要 Java 11，我们的默认 Jetty 版本将保持为 9。</p>
</div>
<div class="paragraph">
<p>要升级到 Jetty 10，请使用 <code>jetty.version</code> 属性来覆盖版本。
您还应该从 <code>spring-boot-starter-jetty</code> 中排除 <code>org.eclipse.jetty.websocket:websocket-server</code> 和 <code>org.eclipse.jetty.websocket:javax-websocket-server-impl</code>，因为它们是 Jetty 9 -具体的。</p>
</div>
</div>
<div class="sect2">
<h3 id="documentation-updates">Documentation Updates</h3>
<div class="paragraph">
<p>该项目发布的 HTML 文档具有更新的外观和一些新功能。
您现在可以通过将鼠标悬停在示例上并单击“复制”图标，轻松地将代码片段复制到剪贴板。
此外，许多示例现在包括可以根据需要显示或隐藏的完整导入语句。</p>
</div>
<div class="paragraph">
<p>我们现在还在每个文档的顶部有一个“深色主题”切换器。</p>
</div>
</div>
<div class="sect2">
<h3 id="其它">其它</h3>
<div class="paragraph">
<p>除了上面列出的更改之外，还有许多小的调整和改进，包括：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>management.endpoints.web.cors.allowed-origin-patterns</code> 现在可用于配置 Actuator 端点的允许来源patterns <a href="https://github.com/spring-projects/spring-boot/pull/24608">( #24608)</a></p>
</li>
<li>
<p><code>HttpSessionIdListener</code> bean 现在自动注册到 servlet 上下文 <a href="https://github.com/spring-projects/spring-boot/issues/24879">(#24879)</a></p>
</li>
<li>
<p>Couchbase 现在默认使用自动配置的`ObjectMapper` <a href="https://github.com/spring-projects/spring-boot/issues/24616">(#24616)</a></p>
</li>
<li>
<p>当 <code>elasticsearch-rest-client-sniffer</code> 模块在类路径中时 Elasticsearch&#8217;s <code>Sniffer</code> 现在将被自动配置 <a href="https://github.com/spring-projects/spring-boot/issues/24174">(#24174)</a></p>
</li>
<li>
<p><code>spring.data.cassandra.controlconnection.timeout</code> 现在可以用于配置 Cassandra 的控制连接超时时间 <a href="https://github.com/spring-projects/spring-boot/issues/24189">(#24189)</a></p>
</li>
<li>
<p><code>spring.kafka.listener.only-log-record-metadata</code> 现在可用于配置尝试重试时记录的内容 <a href="https://github.com/spring-projects/spring-boot/pull/24582">( #24582)</a></p>
</li>
<li>
<p>支持 Apache Phoenix，自动检测 <code>jdbc:phoenix</code> JDBC URL <a href="https://github.com/spring-projects/spring-boot/pull/24114">(#24114)</a></p>
</li>
<li>
<p>Rabbit 的密钥存储和信任存储算法的配置属性 <a href="https://github.com/spring-projects/spring-boot/pull/24076">(#24076)</a></p>
</li>
<li>
<p>现在可以使用`management.endpoints.web.discovery.enabled` 属性禁用`/actuator` 发现页面。</p>
</li>
<li>
<p><code>/actuator/configprops</code> 和 <code>actuator/env</code> 端点现在具有可用于清理密钥的 <code>additional-keys-to-sanitize</code> 属性。</p>
</li>
<li>
<p>如果要自定义 JMX 执行器端点的名称，现在可以使用“EndpointObjectNameFactory”。</p>
</li>
<li>
<p>添加了一个新的`DataSourceBuilder.derivedFrom(&#8230;&#8203;)` 方法，允许您构建一个从现有的派生的新`DataSource`。</p>
</li>
<li>
<p>当 Spring Security 在类路径上时，配置属性现在可以绑定到 <code>RSAPublicKey</code> 和 <code>RSAPrivateKey</code>。</p>
</li>
<li>
<p>Spring AMQP 使用的 RabbitMQ <code>ConnectionFactory</code> 现在可以使用 <code>ConnectionFactoryCustomizer</code> bean 进行自定义。</p>
</li>
<li>
<p>现在可以使用新的`spring.datasource.embedded-database-connection` 配置属性来控制自动配置的嵌入式数据库。它可以设置为“EmbeddedDatabaseConnection”的任何值，包括“none”以完全禁用自动配置的嵌入式数据库。</p>
</li>
<li>
<p><code>CloudPlatform</code> 现在可以自动检测 Azure 应用服务。</p>
</li>
<li>
<p><code>server.tomcat.keep-alive-timeout</code> 可用于配置 Tomcat 在关闭保持连接之前等待另一个请求的时间。</p>
</li>
<li>
<p><code>server.tomcat.max-keep-alive-requests</code> 可用于控制在关闭前保持活动连接可以发出的最大请求数。</p>
</li>
<li>
<p><code>spring.webflux.session.cookie.same-site</code> 可用于配置 WebFlux 的 SameSite cookie 策略。默认是宽松的。</p>
</li>
<li>
<p>Apache HttpClient 5 现在自动配置为与 WebClient 一起使用。</p>
</li>
<li>
<p>引入了一个新的`ApplicationEnvironment` 类，它应该会稍微提高性能。</p>
</li>
<li>
<p>您现在可以使用 <code>spring.netty.leak-detection</code> 属性配置 Netty 内存。</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="依赖更新">依赖更新</h3>
<div class="paragraph">
<p>SpringBoot2.5迁移到几个Spring项目的新版本：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://spring.io/blog/2021/04/20/what-s-new-in-spring-data-2021-0">Spring Data 2021.0</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-integration/docs/5.5.x/reference/html/whats-new.html#whats-new">Spring Integration 5.5</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-security/site/docs/5.5.x/reference/html5/#new">Spring Security 5.5</a></p>
</li>
<li>
<p>Spring Session 2021.0</p>
</li>
<li>
<p>Spring HATEOAS 1.3</p>
</li>
<li>
<p><a href="https://spring.io/blog/2021/04/14/spring-for-apache-kafka-2-7-0-available">Spring Kafka 2.7.0</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>许多第三方依赖项也已更新，其中一些更值得注意的是：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Kotlin 1.5</p>
</li>
<li>
<p>Groovy 3.0</p>
</li>
<li>
<p>Flyway 7.7</p>
</li>
<li>
<p>Liquibase 4.3</p>
</li>
<li>
<p>Jackson 2.12</p>
</li>
<li>
<p>Kafka 2.7</p>
</li>
<li>
<p>Cassandra Driver 4.10</p>
</li>
<li>
<p>Embedded Mongo 3.0</p>
</li>
<li>
<p>Hibernate Validator 6.2</p>
</li>
<li>
<p>Jersey 2.33</p>
</li>
<li>
<p>Mockito 3.7</p>
</li>
<li>
<p>MongoDB 4.2</p>
</li>
<li>
<p>JUnit Jupiter 5.7</p>
</li>
<li>
<p>Elasticsearch 7.12</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="springboot2-5中值得注意的不推荐使用deprecations">SpringBoot2.5中值得注意的不推荐使用（deprecations）</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在SpringBoot2.5中有以下几个值得注意的deprecations：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.springframework.boot.actuate.endpoint.http</code> 中的  <code>ActuatorMediaType</code> 和 <code>ApiVersion</code> 与 <code>org.springframework.boot.actuate.endpoint</code> 中的等价。</p>
</li>
<li>
<p>对实现 jOOQ 的 <code>*Provider</code> 回调接口或 <code>Settings</code> 的 bean 的支持已被弃用。
<code>DefaultConfigurationCustomizer</code> 应该被替换.</p>
</li>
<li>
<p><code>org.springframework.boot.autoconfigure.data.jpa</code> 中的 搬迁至`org.springframework.boot.autoconfigure.orm.jpa`</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="new-and-noteworthy">New and Noteworthy</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
参阅 <a href="Spring-Boot-2.5-Configuration-Changelog.html#v2.5-configuration-changelog">Configuration properties change between <code>2.2.7.RELEASE</code> and <code>2.3.0.RELEASE</code></a> 查看有关配置更改的完整概述。
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0-SNAPSHOT<br>
Last updated 2021-07-13 10:15:51 UTC
</div>
</div>
</body>
</html>